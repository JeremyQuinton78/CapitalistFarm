<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>CapitalistFarm</title>
    <style>
        body{
            background-color : #444444;
            color : white;
        }
    </style>
</head>
<body>

    <div id="now"></div>
    <div id="score"></div>
    <div id="speed"></div>
    <div id="buttons"></div>

    <script>

        var d = new Date();
        var timeStart = d.getTime();
        var profit;
        var score = 0;
        var delay = 1000;
        var btnOn = false;
        var random;
        var displayScore;

        function loop() {
                
            var d = new Date();
            var hours = d.getHours();
            var minutes = d.getMinutes();
            var seconds = d.getSeconds();
            var TimeStamp = d.getTime();

            if (hours < 10) { hours = "0" + hours; }
            if (minutes < 10) { minutes = "0" + minutes; }
            if (seconds < 10) { seconds = "0" + seconds; }
            document.getElementById("now").innerHTML = hours + " : " + minutes + " : " + seconds;

            if (delay > 0) { profit = (TimeStamp - timeStart) / delay; }
            if (delay == 0) { profit = TimeStamp - timeStart }
            if (delay < 0) { profit = (TimeStamp - timeStart) * -delay; }
           
            score = Math.round(score + profit);

            if (score <= 1000) { displayScore = score + " $"; }
            if (score >= 1000) { displayScore = (score / 1000) + " K $"; }
            if (score >= 1000000) { displayScore = (score / 1000000) + " M $"; }
            if (score >= 1000000000) { displayScore = (score / 1000000000) + " B $"; }
            if (score >= 1000000000000) { displayScore = (score / 1000000000000) + " T $"; }
            if (score >= 1000000000000000) { displayScore = (score / 1000000000000000) + " Q $"; }

            document.getElementById("score").innerHTML = displayScore;
            document.getElementById("speed").innerHTML = "Speed : " + (1000 - delay);

            if (seconds == 0 && btnOn == false) {
                var btn = document.createElement("button");
                var MoreOrFaster = Math.floor(Math.random() * Math.floor(2)); 

                if (minutes == 00 || minutes == 30) {
                    random = 50 + Math.floor(Math.random() * Math.floor(50));
                }
                else if (minutes == 15 || minutes == 45) {
                    random = 35 + Math.floor(Math.random() * Math.floor(15));
                }
                else if (minutes == 10 || minutes == 20 || minutes == 40 || minutes == 50) {
                    random = 20 + Math.floor(Math.random() * Math.floor(15));
                }
                else if (minutes == 25 || minutes == 35 || minutes == 55) {
                    random = 10 + Math.floor(Math.random() * Math.floor(10));
                }
                else {
                    random = 1 + Math.floor(Math.random() * Math.floor(10));
                }

                if (MoreOrFaster == 0) {
                    btn.appendChild(document.createTextNode("+" + random + "%"));
                    btn.addEventListener("click", more);
                }
                else {
                    btn.appendChild(document.createTextNode("+" + 2 * random + " speed pt"));
                    btn.addEventListener("click", faster);
                }

                document.getElementById("buttons").appendChild(btn);
                btnOn = true;
            }
            setTimeout(loop, 100);
        }
        loop();

        function more() {
            score = score + (score / (100 / random));
            document.getElementById("buttons").removeChild(buttons.childNodes[0]);
            btnOn = false;
        }

        function faster() {
            delay = delay - 2 * random;
            document.getElementById("buttons").removeChild(buttons.childNodes[0]);
            btnOn = false;
        }
    </script>
</body>
</html>
